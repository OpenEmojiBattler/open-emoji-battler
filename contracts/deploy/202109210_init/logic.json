{"source":{"hash":"0xa2d36328ba1fec76fca8cc2bb6c28f89b6a4f927055c93cd9cff8b1be55e4aed","language":"ink! 3.0.0-rc8","compiler":"rustc 1.60.0-nightly"},"contract":{"name":"logic","version":"0.1.0","authors":["Open Emoji Battler"],"license":"Apache-2.0"},"V3":{"spec":{"constructors":[{"args":[{"label":"storage_account_id","type":{"displayName":["AccountId"],"type":0}}],"docs":[],"label":"new","payable":false,"selector":"0x9bae9d5e"}],"docs":[],"events":[],"messages":[{"args":[],"docs":[],"label":"get_storage_account_id","mutates":false,"payable":false,"returnType":{"displayName":["AccountId"],"type":0},"selector":"0xff14d9a8"},{"args":[],"docs":[],"label":"get_root_account_id","mutates":false,"payable":false,"returnType":{"displayName":["AccountId"],"type":0},"selector":"0x3d2fa9ca"},{"args":[{"label":"new_root_account_id","type":{"displayName":["AccountId"],"type":0}}],"docs":[],"label":"set_root_account_id","mutates":true,"payable":false,"returnType":null,"selector":"0x1fb27db2"},{"args":[{"label":"new_bases","type":{"displayName":["emo","Bases"],"type":4}},{"label":"fixed_base_ids","type":{"displayName":["StdVec"],"type":40}},{"label":"built_base_ids","type":{"displayName":["StdVec"],"type":40}},{"label":"force_bases_update","type":{"displayName":["bool"],"type":20}}],"docs":[],"label":"update_emo_bases","mutates":true,"payable":false,"returnType":null,"selector":"0xd1bd8ea7"},{"args":[{"label":"caller","type":{"displayName":["AccountId"],"type":0}},{"label":"deck_emo_base_ids","type":{"displayName":[],"type":41}}],"docs":[],"label":"start_mtc","mutates":true,"payable":false,"returnType":null,"selector":"0x04bfdb29"},{"args":[{"label":"caller","type":{"displayName":["AccountId"],"type":0}},{"label":"player_operations","type":{"displayName":["StdVec"],"type":42}}],"docs":[],"label":"finish_mtc_shop","mutates":true,"payable":false,"returnType":null,"selector":"0xfbd3f532"},{"args":[],"docs":[],"label":"get_allowed_accounts","mutates":false,"payable":false,"returnType":{"displayName":["StdVec"],"type":3},"selector":"0xc35cfacd"},{"args":[{"label":"account_id","type":{"displayName":["AccountId"],"type":0}}],"docs":[],"label":"allow_account","mutates":true,"payable":false,"returnType":null,"selector":"0x815c22c2"},{"args":[{"label":"account_id","type":{"displayName":["AccountId"],"type":0}}],"docs":[],"label":"disallow_account","mutates":true,"payable":false,"returnType":null,"selector":"0xbb8bad9e"}]},"storage":{"struct":{"fields":[{"layout":{"cell":{"key":"0x0000000000000000000000000000000000000000000000000000000000000000","ty":0}},"name":"storage_account_id"},{"layout":{"cell":{"key":"0x0100000000000000000000000000000000000000000000000000000000000000","ty":3}},"name":"allowed_accounts"},{"layout":{"cell":{"key":"0x0200000000000000000000000000000000000000000000000000000000000000","ty":0}},"name":"root_account_id"}]}},"types":[{"id":0,"type":{"def":{"composite":{"fields":[{"type":1,"typeName":"[u8; 32]"}]}},"path":["ink_env","types","AccountId"]}},{"id":1,"type":{"def":{"array":{"len":32,"type":2}}}},{"id":2,"type":{"def":{"primitive":"u8"}}},{"id":3,"type":{"def":{"sequence":{"type":0}}}},{"id":4,"type":{"def":{"composite":{"fields":[{"type":5,"typeName":"BTreeMap<u16, emo::Base>"}]}},"path":["common","codec_types","emo","Bases"]}},{"id":5,"type":{"def":{"composite":{"fields":[{"type":38}]}},"params":[{"name":"K","type":6},{"name":"V","type":7}],"path":["BTreeMap"]}},{"id":6,"type":{"def":{"primitive":"u16"}}},{"id":7,"type":{"def":{"composite":{"fields":[{"name":"id","type":6,"typeName":"u16"},{"name":"typ","type":8,"typeName":"emo::Typ"},{"name":"codepoint","type":9,"typeName":"u32"},{"name":"grade","type":2,"typeName":"u8"},{"name":"attack","type":6,"typeName":"u16"},{"name":"health","type":6,"typeName":"u16"},{"name":"abilities","type":10,"typeName":"Vec<emo::ability::Ability>"}]}},"path":["common","codec_types","emo","Base"]}},{"id":8,"type":{"def":{"variant":{"variants":[{"index":0,"name":"Human"},{"index":1,"name":"Nature"},{"index":2,"name":"Food"},{"index":3,"name":"Object"}]}},"path":["common","codec_types","emo","Typ"]}},{"id":9,"type":{"def":{"primitive":"u32"}}},{"id":10,"type":{"def":{"sequence":{"type":11}}}},{"id":11,"type":{"def":{"variant":{"variants":[{"fields":[{"type":12,"typeName":"emo::ability::shop::Shop"}],"index":0,"name":"Shop"},{"fields":[{"type":28,"typeName":"emo::ability::battle::Battle"}],"index":1,"name":"Battle"}]}},"path":["common","codec_types","emo","ability","Ability"]}},{"id":12,"type":{"def":{"variant":{"variants":[{"fields":[{"type":13,"typeName":"emo::ability::shop::Pre"}],"index":0,"name":"Pre"},{"fields":[{"type":22,"typeName":"emo::ability::shop::Peri"}],"index":1,"name":"Peri"},{"fields":[{"type":27,"typeName":"emo::ability::shop::Special"}],"index":2,"name":"Special"}]}},"path":["common","codec_types","emo","ability","shop","Shop"]}},{"id":13,"type":{"def":{"variant":{"variants":[{"fields":[{"type":14,"typeName":"emo::ability::shop::NormalAction"}],"index":0,"name":"Normal"},{"fields":[{"type":21,"typeName":"emo::ability::shop::RandomAction"}],"index":1,"name":"Random"}]}},"path":["common","codec_types","emo","ability","shop","Pre"]}},{"id":14,"type":{"def":{"variant":{"variants":[{"fields":[{"name":"base_id","type":6,"typeName":"u16"}],"index":0,"name":"SetEmo"},{"fields":[{"name":"target","type":15,"typeName":"emo::ability::Target"},{"name":"attack","type":6,"typeName":"u16"},{"name":"health","type":6,"typeName":"u16"}],"index":1,"name":"IncreaseStats"},{"fields":[{"name":"target","type":15,"typeName":"emo::ability::Target"},{"name":"count_condition","type":17,"typeName":"emo::ability::TypOptAndIsTripleOpt"},{"name":"attack","type":6,"typeName":"u16"},{"name":"health","type":6,"typeName":"u16"}],"index":2,"name":"IncreaseStatsByEmoCount"},{"fields":[{"name":"target","type":15,"typeName":"emo::ability::Target"},{"name":"attack","type":6,"typeName":"u16"},{"name":"health","type":6,"typeName":"u16"}],"index":3,"name":"IncreaseStatsByGrade"},{"fields":[{"name":"attack","type":6,"typeName":"u16"},{"name":"health","type":6,"typeName":"u16"}],"index":4,"name":"IncreaseStatsOfAdjacentMenagerie"},{"fields":[{"name":"target","type":15,"typeName":"emo::ability::Target"},{"name":"ability","type":11,"typeName":"Box<emo::ability::Ability>"}],"index":5,"name":"AddAbility"},{"fields":[{"name":"coin","type":2,"typeName":"u8"}],"index":6,"name":"GetCoin"},{"fields":[{"name":"count_condition","type":17,"typeName":"emo::ability::TypOptAndIsTripleOpt"},{"name":"divisor","type":2,"typeName":"u8"}],"index":7,"name":"GetCoinByEmoCountDiv"}]}},"path":["common","codec_types","emo","ability","shop","NormalAction"]}},{"id":15,"type":{"def":{"variant":{"variants":[{"index":0,"name":"Oneself"},{"fields":[{"name":"destination","type":16,"typeName":"emo::ability::Destination"},{"name":"typ_and_triple","type":17,"typeName":"emo::ability::TypOptAndIsTripleOpt"}],"index":1,"name":"Others"}]}},"path":["common","codec_types","emo","ability","Target"]}},{"id":16,"type":{"def":{"variant":{"variants":[{"index":0,"name":"Left"},{"index":1,"name":"Right"},{"index":2,"name":"All"}]}},"path":["common","codec_types","emo","ability","Destination"]}},{"id":17,"type":{"def":{"composite":{"fields":[{"name":"typ_opt","type":18,"typeName":"Option<emo::Typ>"},{"name":"is_triple_opt","type":19,"typeName":"Option<bool>"}]}},"path":["common","codec_types","emo","ability","TypOptAndIsTripleOpt"]}},{"id":18,"type":{"def":{"variant":{"variants":[{"index":0,"name":"None"},{"fields":[{"type":8}],"index":1,"name":"Some"}]}},"params":[{"name":"T","type":8}],"path":["Option"]}},{"id":19,"type":{"def":{"variant":{"variants":[{"index":0,"name":"None"},{"fields":[{"type":20}],"index":1,"name":"Some"}]}},"params":[{"name":"T","type":20}],"path":["Option"]}},{"id":20,"type":{"def":{"primitive":"bool"}}},{"id":21,"type":{"def":{"variant":{"variants":[{"fields":[{"name":"typ_count","type":2,"typeName":"u8"},{"name":"attack","type":6,"typeName":"u16"},{"name":"health","type":6,"typeName":"u16"}],"index":0,"name":"IncreaseStatsOfMenagerie"}]}},"path":["common","codec_types","emo","ability","shop","RandomAction"]}},{"id":22,"type":{"def":{"variant":{"variants":[{"fields":[{"name":"trigger","type":23,"typeName":"emo::ability::shop::PeriAsOneselfTrigger"},{"name":"action","type":14,"typeName":"emo::ability::shop::NormalAction"}],"index":0,"name":"AsOneself"},{"fields":[{"name":"trigger","type":24,"typeName":"emo::ability::shop::PeriAsAllyTrigger"},{"name":"action","type":25,"typeName":"emo::ability::shop::PeriAsAllyAction"}],"index":1,"name":"AsAlly"}]}},"path":["common","codec_types","emo","ability","shop","Peri"]}},{"id":23,"type":{"def":{"variant":{"variants":[{"index":0,"name":"Set"},{"index":1,"name":"Sell"},{"fields":[{"name":"typ_and_triple","type":17,"typeName":"emo::ability::TypOptAndIsTripleOpt"}],"index":2,"name":"AllySet"}]}},"path":["common","codec_types","emo","ability","shop","PeriAsOneselfTrigger"]}},{"id":24,"type":{"def":{"variant":{"variants":[{"fields":[{"name":"typ_and_triple","type":17,"typeName":"emo::ability::TypOptAndIsTripleOpt"}],"index":0,"name":"AllySet"}]}},"path":["common","codec_types","emo","ability","shop","PeriAsAllyTrigger"]}},{"id":25,"type":{"def":{"variant":{"variants":[{"fields":[{"type":14,"typeName":"emo::ability::shop::NormalAction"}],"index":0,"name":"OneselfTripleNormal"},{"fields":[{"type":26,"typeName":"emo::ability::shop::AsAllyAction"}],"index":1,"name":"Custom"}]}},"path":["common","codec_types","emo","ability","shop","PeriAsAllyAction"]}},{"id":26,"type":{"def":{"variant":{"variants":[{"index":0,"name":"TriggerSetActions"}]}},"path":["common","codec_types","emo","ability","shop","AsAllyAction"]}},{"id":27,"type":{"def":{"variant":{"variants":[{"index":0,"name":"Placeholder"}]}},"path":["common","codec_types","emo","ability","shop","Special"]}},{"id":28,"type":{"def":{"variant":{"variants":[{"fields":[{"type":29,"typeName":"emo::ability::battle::General"}],"index":0,"name":"General"},{"fields":[{"type":37,"typeName":"emo::ability::battle::Special"}],"index":1,"name":"Special"}]}},"path":["common","codec_types","emo","ability","battle","Battle"]}},{"id":29,"type":{"def":{"variant":{"variants":[{"fields":[{"name":"trigger","type":30,"typeName":"emo::ability::battle::GeneralAsOneselfTrigger"},{"name":"action","type":31,"typeName":"emo::ability::battle::NormalAction"}],"index":0,"name":"AsOneself"},{"fields":[{"name":"trigger","type":34,"typeName":"emo::ability::battle::GeneralAsAllyTrigger"},{"name":"action","type":35,"typeName":"emo::ability::battle::GeneralAsAllyAction"}],"index":1,"name":"AsAlly"}]}},"path":["common","codec_types","emo","ability","battle","General"]}},{"id":30,"type":{"def":{"variant":{"variants":[{"index":0,"name":"Pre"},{"index":1,"name":"Retire"},{"fields":[{"name":"typ_and_triple","type":17,"typeName":"emo::ability::TypOptAndIsTripleOpt"}],"index":2,"name":"AllyRetire"},{"fields":[{"name":"typ_and_triple","type":17,"typeName":"emo::ability::TypOptAndIsTripleOpt"}],"index":3,"name":"RivalRetire"},{"fields":[{"name":"typ_and_triple","type":17,"typeName":"emo::ability::TypOptAndIsTripleOpt"},{"name":"excludes_same_base","type":20,"typeName":"bool"},{"name":"ability","type":28,"typeName":"Box<emo::ability::battle::Battle>"}],"index":4,"name":"AllyBattleAbilityRemoved"}]}},"path":["common","codec_types","emo","ability","battle","GeneralAsOneselfTrigger"]}},{"id":31,"type":{"def":{"variant":{"variants":[{"fields":[{"name":"side","type":32,"typeName":"emo::ability::Side"},{"name":"base_id","type":6,"typeName":"u16"}],"index":0,"name":"SetEmo"},{"fields":[{"name":"side","type":32,"typeName":"emo::ability::Side"},{"name":"base_id","type":6,"typeName":"u16"},{"name":"divisor","type":2,"typeName":"u8"}],"index":1,"name":"SetEmosByAttackDiv"},{"fields":[{"name":"target_or_random","type":33,"typeName":"emo::ability::TargetOrRandom"},{"name":"attack","type":6,"typeName":"u16"},{"name":"health","type":6,"typeName":"u16"}],"index":2,"name":"IncreaseStats"},{"fields":[{"name":"target_or_random","type":33,"typeName":"emo::ability::TargetOrRandom"},{"name":"attack","type":6,"typeName":"u16"},{"name":"health","type":6,"typeName":"u16"}],"index":3,"name":"DecreaseStats"},{"fields":[{"name":"side","type":32,"typeName":"emo::ability::Side"},{"name":"target_or_random","type":33,"typeName":"emo::ability::TargetOrRandom"},{"name":"count_condition","type":17,"typeName":"emo::ability::TypOptAndIsTripleOpt"},{"name":"attack","type":6,"typeName":"u16"},{"name":"health","type":6,"typeName":"u16"}],"index":4,"name":"IncreaseStatsByEmoCount"},{"fields":[{"name":"target_or_random","type":33,"typeName":"emo::ability::TargetOrRandom"},{"name":"ability","type":28,"typeName":"Box<emo::ability::battle::Battle>"}],"index":5,"name":"AddBattleAbility"},{"fields":[{"name":"side","type":32,"typeName":"emo::ability::Side"},{"name":"damage","type":6,"typeName":"u16"}],"index":6,"name":"DamageAll"}]}},"path":["common","codec_types","emo","ability","battle","NormalAction"]}},{"id":32,"type":{"def":{"variant":{"variants":[{"index":0,"name":"Ally"},{"index":1,"name":"Rival"}]}},"path":["common","codec_types","emo","ability","Side"]}},{"id":33,"type":{"def":{"variant":{"variants":[{"fields":[{"type":15,"typeName":"emo::ability::Target"}],"index":0,"name":"Target"},{"fields":[{"name":"typ_and_triple","type":17,"typeName":"emo::ability::TypOptAndIsTripleOpt"},{"name":"count","type":2,"typeName":"u8"}],"index":1,"name":"Random"}]}},"path":["common","codec_types","emo","ability","TargetOrRandom"]}},{"id":34,"type":{"def":{"variant":{"variants":[{"fields":[{"name":"typ_and_triple","type":17,"typeName":"emo::ability::TypOptAndIsTripleOpt"}],"index":0,"name":"AllySet"},{"fields":[{"name":"typ_and_triple","type":17,"typeName":"emo::ability::TypOptAndIsTripleOpt"}],"index":1,"name":"AllyRetire"}]}},"path":["common","codec_types","emo","ability","battle","GeneralAsAllyTrigger"]}},{"id":35,"type":{"def":{"variant":{"variants":[{"fields":[{"type":31,"typeName":"emo::ability::battle::NormalAction"}],"index":0,"name":"OneselfTripleNormal"},{"fields":[{"type":36,"typeName":"emo::ability::battle::AsAllyAction"}],"index":1,"name":"Custom"}]}},"path":["common","codec_types","emo","ability","battle","GeneralAsAllyAction"]}},{"id":36,"type":{"def":{"variant":{"variants":[{"index":0,"name":"TriggerRetireActions"}]}},"path":["common","codec_types","emo","ability","battle","AsAllyAction"]}},{"id":37,"type":{"def":{"variant":{"variants":[{"index":0,"name":"Shield"},{"index":1,"name":"Attractive"},{"index":2,"name":"AttackLowestAttack"}]}},"path":["common","codec_types","emo","ability","battle","Special"]}},{"id":38,"type":{"def":{"sequence":{"type":39}}}},{"id":39,"type":{"def":{"tuple":[6,7]}}},{"id":40,"type":{"def":{"sequence":{"type":6}}}},{"id":41,"type":{"def":{"array":{"len":6,"type":6}}}},{"id":42,"type":{"def":{"sequence":{"type":43}}}},{"id":43,"type":{"def":{"variant":{"variants":[{"fields":[{"name":"mtc_emo_id","type":6,"typeName":"u16"},{"name":"index","type":2,"typeName":"u8"}],"index":0,"name":"Buy"},{"fields":[{"name":"index","type":2,"typeName":"u8"}],"index":1,"name":"Sell"},{"fields":[{"name":"indexes","type":44,"typeName":"Vec<u8>"}],"index":2,"name":"Move"},{"index":3,"name":"NextCatalogLine"},{"index":4,"name":"Upgrade"}]}},"path":["common","codec_types","mtc","shop","PlayerOperation"]}},{"id":44,"type":{"def":{"sequence":{"type":2}}}}]}}
